{% extends 'layout.html.j2' %}
{% block body %}

  <!-- plotly js: -->
  <script src="{{ url_for('static',filename='js/plotly.js')}}" charset="utf-8">
  </script>
  <!-- no ui slider js: -->
  <script src="{{ url_for('static',filename='js/nouislider.min.js')}}" charset="utf-8">
  </script>
  <!-- disp plotting: -->
  <script src="{{ url_for('static',filename='js/disp_plot.js')}}" charset="utf-8">
  </script>
  <!-- prob images: -->
  <script src="{{ url_for('static',filename='js/s1_images.js')}}" charset="utf-8">
  </script>
  <!-- full screen images: -->
  <script src="{{ url_for('static',filename='js/fs_images.js')}}" charset="utf-8">
  </script>
  <!-- page set up / functions: -->
  <script src="{{ url_for('static',filename='js/s1_analysis.js')}}" charset="utf-8">
  </script>

<div>
  <div>
    <style type="text/css">
      .acf-map {
        width: 70%;
        height: 500px;
        border: #ccc solid 1px;
        margin: 20px 0;
      }
    </style>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/nouislider.min.css')}}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/s1_analysis.css')}}">
    <script src="https://maps.googleapis.com/maps/api/js"></script>
    <header>
      <h1>{{data.name[0]}} {{data.ID[0]}} </h1>
    </header><!-- .entry-header -->
    <ul class="tabrow">
      <li><a href="/volcano-index/{{region}}/{{country}}/{{data.name[0]}}">Observations of Deformation</a></li>
      <li class="selected">Explore Sentinel-1 imagery</li>
      <li><a href="/volcano-index/{{region}}/{{country}}/{{data.name[0]}}/download">Export as CSV</a></li>
      {% if session.usertype == 'Admins' or session.usertype == 'Collaborators' %}
      <li><a href="/volcano-index/{{region}}/{{country}}/{{data.name[0]}}/edit">Update Observations</a></li>
      {% endif %}
    </ul>
   <div>
<div style="width:100%; display:block; margin:auto;">

    <script>
      var this_frame = {{ frame }};
      var volcano_name = '{{ volcano }}';
      var volcano_region = this_frame['region'];
      var volcano_frames = this_frame['frames'];

      var js_data_prefix = '/data/';
      var disp_data_prefix = 'disp_data';
      var licsar_data_prefix = 'licsar_data';
      var prob_data_prefix = 'prob_data';
      var prob_imgs_prefix = '/images/prob_images/';
      var licsar_imgs_prefix = '/images/licsar_images/';
      var data_href_prefix = 'http://gws-access.ceda.ac.uk/public/nceo_geohazards/LiCSAR_products';
    </script>

    <!-- frame selection: -->
    <div class="s1_frame"
         id="s1_frame">
      <h2>Sentinel 1 Frame</h2>
      <div class="frame_id_control"
           id="frame_id_control">
      </div>
    </div>

    <!-- plots: -->
    <div class="disp_plot_container"
         id="disp_plot_container">
      <div class="disp_plot"
           id="heatmap_plot">
      </div>
      <div class="disp_plot"
           id="scatter_plot">
      </div>
    </div>

    <!-- plot controls: -->
    <div class="plot_control_container"
         id="plot_control_container">

      <div class="heatmap_type_control"
           id="heatmap_type_control">
          <button id="heatmap_type_button_disp"
                  onclick="set_heatmap_type('disp');">
            displacement
          </button>
          <button id="heatmap_type_button_coh"
                  onclick="set_heatmap_type('coh');">
            coherence
          </button>
      </div>

      <div class="scatter_type_control"
           id="scatter_type_control">
          <button id="scatter_type_button_ts"
                  onclick="set_scatter_type('ts');">
            time series
          </button>
          <button id="scatter_type_button_profile"
                  onclick="set_scatter_type('profile');">
            profile
          </button>
      </div>

      <div class="click_mode_control"
           id="click_mode_control">
          <button id="click_mode_button_select"
                  onclick="set_click_mode('select');">
            point to plot
          </button>
          <button id="click_mode_button_ref"
                  onclick="set_click_mode('ref');">
            reference area
          </button>
      </div>

      <div class="extra_plot_control"
           id="extra_plot_control">
          <button id="surf_plot_button"
                  onclick="display_surf_plot();">
            surface plot
          </button>
          <button id="ts_to_csv_button"
                  onclick="scatter_to_csv();">
            save scatter data as csv
          </button>
      </div>

      <div class="time_range_control"
           id="time_range_control">
      </div>
      <div class="time_range_value"
           id="time_range_value">
      </div>

    </div>

    <hr>

    <!-- s1 images: -->
    <div class="s1_image_container"
         id="s1_image_container">
      <div class="s1_imgs"
           id="s1_imgs">
        <img class="s1_img fs_img"
             id="s1_cc_img"
             src="">
        <img class="s1_img fs_img"
             id="s1_pha_img"
             src="">
        <img class="s1_img fs_img"
             id="s1_unw_img"
             src="">
        <img class="s1_img fs_img"
             id="s1_prob_img"
             src="">
      </div>
      <div class="s1_image_control"
           id="s1_image_control">
      </div>
      <div class="s1_image_value"
           id="s1_image_value">
      </div>
      <div class="s1_data"
           id="s1_data">
        <h2>Data Downloads</h2>
        <table class="s1_data_links"
              id="s1_data_links">
        </table>
      </div>

    </div>

    <!-- surface plot: -->
    <div class="surf_plot_container"
         id="surf_plot_container">
      <span id="surf_plot_close"
            class="surf_plot_close">&times;</span>
      <div class="surf_plot"
           id="surf_plot">
      </div>
    </div>

    <!-- full screen images: -->
    <div id="fs_img_div"
         class="fs_img_div">
      <span id="fs_img_close"
            class="fs_img_close">&times;</span>
      <img id="fs_img_img"
           class="fs_img_img"
           src="">
    </div>


    </div><!-- .entry-content -->
  </div><!-- #content -->
</div><!-- #primary -->
</div><!-- #main .wrapper -->
<!-- full screen images: -->
<div id="fs_img_div" class="fs_img_div">
  <span id="fs_img_close" class="fs_img_close">&times;</span>
  <img id="fs_img_img" class="fs_img_img" src="">
</div>
{% endblock %}

</html>
